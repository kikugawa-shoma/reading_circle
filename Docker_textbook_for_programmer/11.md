## GCPの基本
- プロジェクト
  - システムを管理する単位
  - リソースをまとめる単位
  - GCPアカウントと紐付けられ、紐付けられたアカウントのみがリソースを管理できる
  - プロジェクトをシャットダウン -> リソースはすべて削除され、課金が行われなくなる
    - 検証に使う際に便利

- Google Cloud SDK
  - 手元のPCのコンソールからGCPのリソースの管理を行うことができる

- Cloud Shell
  - ブラウザからGCPのリソース管理を行うことができる
  - 正体はGCE仮想マシンインスタンス

## cloud source repositories
- GCPが提供するgitリポジトリサービス
- githubのGCPバージョン
- プライベートリポジトリとして管理可能
- 料金
  - ストレージ50GBまで無料
  - 通信上りは完全無料
  - 通信下りは50GB/月まで無料

```sh
# レポジトリを作成
gcloud alpha source repo create repository_name

# gitでリモートに設定
git remote add google repository_url

# プッシュ
git push google master
```

## cloud container builder
- dockerイメージをビルドするサービス
- トリガーを設定して自動でビルドさせることも可能

## GKEでアプリケーションをデプロイする流れ
1. CSRにリポジトリをプッシュ
1. CCBでイメージをビルド
1. kubernetesクラスタを構築(クラスタ：ノードの集合)
    - この時点では計算資源が確保されただけでアプリケーションは乗っていない
    - 各ノードの実態はGCEインスタンス
    - 各ノードにはKubeletやDockerがインストールされている
    - クラスタ内の各ノード同士が協調して動作する
    - kubelet: 各ノードで動くエージェント。podを起動しそれらの管理をする。
1. 各ノードの中で動かすpodsを設定し稼働させる
    - この際にデプロイメント定義ファイル内でCCBのイメージを指定する
1. 外部に公開する

## 感想
- Kubernetesを理解して使えるようになるには別の本読む必要がありそう